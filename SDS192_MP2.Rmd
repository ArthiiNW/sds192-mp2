---
title: "MiniProject2"
author: "Yingqi Zheng"
date: "10/23/2017"
output: html_document
---

```{r}
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```

# Its Nikki!!!!

Library packages
```{R, Message = FALSE}
library(ggplot2)
library(tidyverse)
```

```{R}
candyear <- candidates %>%
  select(-cand_office_district, -cand_ici, -cand_status, -cand_pcc, -cand_st1, -cand_st2, -cand_city, -cand_state, -cand_zip) %>%
  filter(cand_election_yr == 2012) %>%
  filter(cand_party_affiliation %in% c("DEM", "REP")) %>%
  filter(cand_office == "S")
```


```{r}
candMA <- candyear %>%
  filter(cand_office_state == "MA")
```

```{r}
contritidy <- contributions %>%
  select(cmte_id, name, state, cand_id)

contricand <-candyear %>%
  right_join(contritidy, by = "cand_id") %>%
  filter(cand_office == "S") %>%
  filter(!is.na(cand_name)) %>%
  arrange(cand_office_state)
```

```{R}
party <- contricand %>%
  group_by(cand_office_state, cand_party_affiliation) %>%
  summarise(nparty = sum(n())) %>%
  spread(key = cand_party_affiliation, value = nparty)
```


```{R}
party[is.na(party)] <- 0
```